<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>é‡åŒ–äº¤æ˜“ç­–ç•¥æŸ¥è¯¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        form {
            background-color: #f4f4f4;
            padding: 20px;
            border-radius: 5px;
        }

        /* å…¬å…±æ ·å¼ */
        .container {
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        /* AI æ¨¡å—æ ·å¼ */
        #ai-config {
            background-color: #f9f9f9;
            border: 1px solid #ccc;
        }

        /* è‚¡ç¥¨æ¨¡å—æ ·å¼ */
        #stock-config {
            background-color: #fff5f5;
            border: 1px solid #ffcccc;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"], input[type="date"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        input[type="checkbox"] {
            margin-right: 5px;
        }
        button {
            background-color: #007BFF;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
         .form-container {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
    }

    .form-section {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px 120px;
    }

    .group {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

    .group label {
        min-width: 80px;  /* å¯æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´æ ‡ç­¾æœ€å°å®½åº¦ */
        margin-right: 10px;
    }

    select {
    width: 200px;          /* è®¾ç½®å®½åº¦ */
    padding: 10px;         /* å¢åŠ å†…è¾¹è·ï¼Œè®©ä¸‹æ‹‰æ¡†æ›´é«˜ */
    font-size: 14px;       /* å¯é€‰ï¼šå¢å¤§å­—ä½“ï¼Œæå‡å¯è¯»æ€§ */
    height: 40px;          /* å¯é€‰ï¼šå¼ºåˆ¶è®¾å®šé«˜åº¦ */
    border-radius: 4px;    /* å’Œ input ä¿æŒä¸€è‡´é£æ ¼ */
    border: 1px solid #ccc;
}

    .checkbox-group {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .checkbox-group label {
        flex: 0 0 calc(33.333% - 7px);
        box-sizing: border-box;
    }
    .inline-group {
        display: grid;
        grid-template-columns: auto 100px auto 100px; /* label input label input */
        gap: 15px 30px;
        margin-bottom: 15px;
        align-items: left;
        white-space: nowrap;
        min-width: 600px; /* æ ¹æ®å†…å®¹è®¡ç®—æœ€å°å®½åº¦ */
    }

    .inline-group input[type="text"],
    .inline-group input[type="date"] {
        min-width: 150px; /* æˆ–è€…ä½ å¸Œæœ›çš„å›ºå®šå®½åº¦ï¼Œå¦‚ width: 100px; */
    }
    .group input[type="text"],
    .group input[type="date"] {
        min-width: 150px; /* æˆ–è€…ä½ å¸Œæœ›çš„å›ºå®šå®½åº¦ï¼Œå¦‚ width: 100px; */
    }

    .vertical-group-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
        grid-column: span 2; /* å¦‚æœä½ åœ¨ .form-section ä¸­ä½¿ç”¨äº† grid */
    }

    .group.full-width {
        width: 100%;
    }
    .group.full-width label {
        width: 120px;             /* å›ºå®šå®½åº¦ï¼Œç¡®ä¿å¯¹é½ */
        min-width: 120px;         /* é˜²æ­¢è¢«å‹ç¼© */
        white-space: nowrap;      /* ä¸æ¢è¡Œ */
        display: inline-block;    /* ä¿è¯ width ç”Ÿæ•ˆ */
    }

    textarea {
        width: 100%;            /* æ‹‰ä¼¸åˆ°æœ€å¤§å®½åº¦ */
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 3px;
        resize: vertical;        /* å¯é€‰ï¼šä»…å…è®¸å‚ç›´ç¼©æ”¾ */
    }

    .line-group {
        display: flex;
        align-items: flex-end;
        flex-wrap: wrap;
        gap: 20px 40px;
    }

    .line-group .group {
        flex: 1 1 auto;
        min-width: 200px;
    }






}
    </style>
</head>
<body>
 <!-- Header -->
        <div class="header">
            <h1>ğŸš€ è‚¡ç¥¨åˆ†æç³»ç»Ÿ - Web V1.0</h1>
            <div class="header-info">
                <div class="version-info">
                    Web V1.0 | WebStockAnalyzer |  {% if auth_enabled %}| ğŸ” å·²è®¤è¯{% endif %}
                    <span id="systemStatus" class="status-indicator status-ready">ç³»ç»Ÿå°±ç»ª</span>
                </div>
                <div class="header-buttons">
                    <button class="config-btn" onclick="showConfig()">âš™ï¸ AIé…ç½®</button>
                    {% if auth_enabled %}
                    <a href="{{ url_for('logout') }}" class="logout-btn">ğŸšª é€€å‡ºç™»å½•</a>
                    {% endif %}
                </div>

                <div class="header-buttons">
                    <a href="/" class="config-btn">ğŸ  é€‰è‚¡</a>
                    <a href="/history" class="config-btn">ğŸ“š å†å²è®°å½•</a>
                    <a href="/stock" class="config-btn">ğŸ“ˆ è‚¡ç¥¨åˆ†æ</a>
                    {% if auth_enabled %}
                    <a href="{{ url_for('logout') }}" class="logout-btn">ğŸšª é€€å‡ºç™»å½•</a>
                    {% endif %}
                </div>
            </div>
        </div>

    <h1>é‡åŒ–äº¤æ˜“ç­–ç•¥æŸ¥è¯¢</h1>
    <form method="post">
          <!-- AI é…ç½®å®¹å™¨ -->
        <div id= "ai-config" class="container">
             <h3>AI é…ç½®å‚æ•°</h3>
            <div class="line-group">

                <!-- AIå¹³å° -->
                <div class="group">
                    <label for="ai_platform">AIå¹³å°:</label>
                    <select id="ai_platform" name="ai_platform">
                        <option value="qwen">é€šä¹‰åƒé—®</option>
                        <option value="byte">å­—èŠ‚ç«å±±</option>
                        <option value="deepseek">DeepSeek</option>
                        <option value="openai">OpenAI</option>
                         <option value="kimi">KIMI</option>
                    </select>
                </div>

                <!-- AIæ¨¡å‹ -->
                <div class="group">
                    <label for="ai_model">AIæ¨¡å‹:</label>
                    <select id="ai_model" name="ai_model">
                        <option value="qwen3-235b-a22b-thinking-2507">qwen3-235b-a22b-thinking-2507</option>
                        <option value="qwen3-30b-a3b-instruct-2507">qwen3-30b-a3b-instruct-2507</option>
                        <option value="qwen3-30b-a3b-thinking-2507">qwen3-30b-a3b-thinking-2507</option>
                        <option value="qwen-turbo-2025-07-15">qwen-turbo-2025-07-15</option>
                        <option value="qwen-turbo-2025-04-28">qwen-turbo-2025-04-28</option>
                        <option value="qwen-turbo">qwen-turbo</option>
                        <option value=" deepseek-r1"> deepseek-r1</option>
                        <option value="qwen-plus-latest">qwen-plus-latest</option>
                        <option value="qwen-plus-2025-07-14">qwen-plus-2025-07-14</option>
                        <option value="qwen2.5-14b-instruct">qwen2.5-14b-instruct</option>
                        <option value="doubao-1.5-pro-32k-250115">doubao-1.5-pro-32k-250115</option>
                        <option value="doubao-1-5-thinking-pro-250415">doubao-1-5-thinking-pro-250415</option>
                        <option value="deepseek">DeepSeek</option>
                        <option value="deepseek-r1">deepseek-r1</option>
                        <option value="openai">chat-gpt-3.5</option>
                        <option value="moonshot-v1-128k">moonshot-v1-128k</option>
                        <option value="moonshot-v1-32k">moonshot-v1-32k</option>
                    </select>
                </div>
                 <div class="group">
                    <label for="api_code">Token:</label>
                    <input type="text" id="api_code" name="api_code" value="{{ api_code }}" required>
                </div>

            </div>

            <div class="vertical-group-container">
                <!-- ç³»ç»Ÿæç¤ºè¯­ -->
                <div class="group full-width">
                    <label for="system_prompt">ç³»ç»Ÿæç¤ºè¯­:</label>
                    <textarea id="system_prompt" name="system_prompt" rows="5">{{ system_prompt }}</textarea>
                </div>

                <!-- Messageçš„æ ¼å¼ -->
                <div class="group full-width">
                    <label for="message_format">Messageçš„æ ¼å¼:</label>
                    <textarea id="message_format" name="message_format" rows="5">{{ message_format }}</textarea>
                </div>
            </div>
        </div>
         <!-- è¾“å…¥å­—æ®µå®¹å™¨ -->
        <div id= "stock-config" class="container">
            <h3>è‚¡ç¥¨ é…ç½®å‚æ•°</h3>
            <div class="form-container">
        <!-- å·¦ä¾§è¾“å…¥åŒºåŸŸ -->
            <div class="form-section">

            <div class="group">
                <label for="stock_code">è‚¡ç¥¨ç¼–å·:</label>
                <input type="text" id="stock_code" name="stock_code" required>
            </div>
             <div class="group">
                 <label for="market">å¸‚åœºç±»å‹:</label>
                <select id="market" name="market">
                    <option value="SH" {% if market == 'SH' %}selected{% endif %}>ä¸Šæµ·</option>
                    <option value="SZ" {% if market == 'SZ' %}selected{% endif %}>æ·±åœ³</option>
                    <option value="usa" {% if market == 'usa' %}selected{% endif %}>ç¾å›½</option>
                    <option value="H" {% if market == 'H' %}selected{% endif %}>é¦™æ¸¯</option>
                    <option value="zq" {% if market == 'zq' %}selected{% endif %}>å€ºåˆ¸</option>
                    <option value="cy" {% if market == 'cy' %}selected{% endif %}>åˆ›ä¸šæ¿</option>
                </select>
            </div>

            <div class="group">
                <label for="start_date">å¼€å§‹æ—¶é—´:</label>
                <input type="date" id="start_date" name="start_date" value="{{ start_date }}">

            </div>
             <div class="group">
                 <label for="end_date">ç»“æŸæ—¶é—´:</label>
                <input type="date" id="end_date" name="end_date" value="{{ end_date }}">
             </div>



            </div>

            </div>
         </div>

        <!-- äº¤æ˜“ç­–ç•¥ -->
        <label>é€‰æ‹©äº¤æ˜“ç­–ç•¥:</label>
        <div class="checkbox-group">
            {% for strategy in strategies %}
                <label style="display: flex; align-items: center;">
                    <input type="checkbox" id="{{ strategy }}" name="strategies" value="{{ strategy }}" checked>
                    {{ strategy }}
                </label>
            {% endfor %}
        </div>
        </div>


        <button type="submit">æŸ¥è¯¢</button>
    </form>



</body>
</html>